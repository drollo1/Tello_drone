#ifndef TELLO_DRONE_H_
#define TELLO_DRONE_H_

#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include "sys/socket.h"
#include "sys/types.h"
#include "arpa/inet.h"
#include "netinet/in.h"
#include <iostream>
#include "opencv2/core.hpp"

const int LOCAL_CMD_PORT = 8889;
const int LOCAL_STAT_PORT = 8890;
const int TELLO_CMD_PORT = 8889;
const char* const TELLO_IP = "192.168.10.1";

class Tello_drone
{
public:
	Tello_drone();
	~Tello_drone();
	int connectDrone();
	int printStatus();
	int sendCommand(char* cmd, int len);

private:
	int bindSocket(int fd, int port);

private:
	bool isConnected;
	int m_cmdSockfd;
	int m_statSockfd;
	sockaddr_in m_tello_sockaddr;
	cv::VideoCapture* m_videoCap;
};

#endif // TELLO_DRONE_H_
